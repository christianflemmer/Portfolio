<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8" />
		<link
			rel="icon"
			href="%PUBLIC_URL%/favicon.ico"
		/>
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1"
		/>
		<meta
			name="theme-color"
			content="#000000"
		/>
		<meta
			name="description"
			content="Web site created using create-react-app"
		/>
		<link
			rel="apple-touch-icon"
			href="%PUBLIC_URL%/logo192.png"
		/>
		<link
			rel="manifest"
			href="%PUBLIC_URL%/manifest.json"
		/>
		<title>Christian Flemmer | Portfolio</title>
		<style>
			body {
				overflow-y: hidden;
			}

			#loader-wrapper {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: 1000;
			}

			#loader {
				display: block;
				position: relative;
				left: 50%;
				top: 50%;
				width: 150px;
				height: 150px;
				margin: -75px 0 0 -75px;
				border-radius: 50%;
				border: 3px solid transparent;
				border-top-color: #3498db;
				animation: spin 2s linear infinite;
				z-index: 1001;
			}

			#loader:before {
				content: "";
				position: absolute;
				top: 5px;
				left: 5px;
				right: 5px;
				bottom: 5px;
				border-radius: 50%;
				border: 3px solid transparent;
				border-top-color: #e74c3c;
				animation: spin 3s linear infinite;
			}

			#loader:after {
				content: "";
				position: absolute;
				top: 15px;
				left: 15px;
				right: 15px;
				bottom: 15px;
				border-radius: 50%;
				border: 3px solid transparent;
				border-top-color: #f9c922;
				animation: spin 1.5s linear infinite;
			}

			#loader-wrapper .loader-section.section-left {
				left: 0;
			}

			#loader-wrapper .loader-section.section-right {
				right: 0;
			}

			.loaded #loader-wrapper .loader-section.section-left {
				transform: translateX(-100%);
			}

			.loaded #loader-wrapper .loader-section.section-right {
				transform: translateX(100%);
			}

			.loaded #loader-wrapper {
				visibility: hidden;
			}

			.loaded #loader {
				opacity: 0;
				transition: all 0.5s ease-out;
			}

			.loaded #loader-wrapper .loader-section.section-right,
			.loaded #loader-wrapper .loader-section.section-left {
				transition: all 0.5s 0.5s ease-out;
			}

			.loaded #loader-wrapper {
				transform: translateY(-100%);
				transition: all 0.5s 1s ease-out;
			}

			#loader-wrapper .loader-section {
				position: fixed;
				top: 0;
				width: 51%;
				height: 100%;
				background: #222222;
				z-index: 1000;
				transform: translateX(0);
			}

			@keyframes spin {
				0% {
					transform: rotate(0deg);
				}

				100% {
					transform: rotate(360deg);
				}
			}

		</style>
	</head>

	<body>
		<noscript>You need to enable JavaScript to run this app.</noscript>
		<div id="loader-wrapper">
			<div id="loader"></div>
			<div class="loader-section section-left"></div>
			<div class="loader-section section-right"></div>
		</div>
		<div id="root"></div>
		<script>
			const previouslyLoaded = window?.sessionStorage?.getItem('previouslyLoaded') || null;

			if (previouslyLoaded) {
				displayContent();
			} else {
				const loadTimeBuffer = (Math.random() * (1.5 - 1) + 1) * 1000;

				window.addEventListener('load', () => setTimeout(() => {
					displayContent();
					window.sessionStorage.setItem('previouslyLoaded', 'true');
				}, loadTimeBuffer));
			}

			function displayContent() {
				const body = document.querySelector('body');
				body.classList.add('loaded')
				body.style.overflowY = 'initial';
			}
		</script>
	</body>

</html>
